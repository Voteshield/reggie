# West Virginia has the following file, though the history
# file is not always consistently there.
#
# - Voter file: Statewide_VRMMDDYY.txt (| delimited file)
# - History file: SV PStatewide_VH.txt (| delimited file)
##############################

# State basics
##############################
state: west_virginia
abbreviation: wv

# Voter file
##############################

# Voter file basics
file_type: .txt
delimiter: "|"
has_headers: true
fixed_width: false
source: boe

# General data type handling
# 2/16/1942 0:00:00
date_format: "%m/%d/%Y"

# Voter ID
voter_id: ID_VOTER
match_fields:
  - FIRST NAME
  - LAST NAME
  - DATE OF BIRTH

# Locale fields
primary_locale_identifier: County_ID
numeric_primary_locale: FALSE
precinct_identifier: Precinct_Number

# Voter status fields.  Only Active or Inactive
voter_status: Status
voter_status_active: Active
voter_status_inactive: Inactive

# Demographic fields
birthday_identifier: DATE OF BIRTH

# Party fields
party_identifier: PartyAffiliation
# lots of whitespace in PartyAffiliation column before cleaning
# also looks like write-in parties are allowed (lots of mispellings)
democratic_party: Democrat
republican_party: Republican
libertarian_party: Libertarian
# Could be No Party Affiliation or Unaffiliated
no_party_affiliation: No Party Affiliation

# Name fields
name_fields:
  - FIRST NAME
  - Mid
  - LAST NAME
  - Suffix

standard_name_fields:
  - FIRST NAME
  - Mid
  - LAST NAME

# Address fields
address_fields:
  - HOUSE NO
  - STREET
  - STREET2
  - UNIT
  - CITY
  - STATE
  - ZIP
  - MAIL HOUSE NO
  - MAIL STREET
  - MAIL STREET2
  - MAIL UNIT
  - MAIL CITY
  - MAIL STATE
  - MAIL ZIP

# All columns
# ID_VOTER|County_Name|FIRST NAME|Mid|LAST NAME|Suffix|DATE OF BIRTH|SEX|HOUSE NO|STREET|STREET2|UNIT|CITY|STATE|ZIP|MAIL HOUSE NO|MAIL STREET|MAIL STREET2|MAIL UNIT|MAIL CITY|MAIL STATE|MAIL ZIP|REGISTRATION DATE|PartyAffiliation|Status|Congressional District|Senatorial District|Delegate District|Magisterial District|Precinct_Number|POLL_NAME
column_names:
  - ID_VOTER
  # Generated from name
  - County_ID
  - County_Name
  - FIRST NAME
  - Mid
  - LAST NAME
  - Suffix
  - DATE OF BIRTH
  - SEX
  - HOUSE NO
  - STREET
  - STREET2
  - UNIT
  - CITY
  - STATE
  - ZIP
  - MAIL HOUSE NO
  - MAIL STREET
  - MAIL STREET2
  - MAIL UNIT
  - MAIL CITY
  - MAIL STATE
  - MAIL ZIP
  - REGISTRATION DATE
  - PartyAffiliation
  - Status
  - Congressional District
  - Senatorial District
  - Delegate District
  - Magisterial District
  - Precinct_Number
  - POLL_NAME

columns:
  ID_VOTER: text
  County_ID: text
  County_Name: text
  FIRST NAME: text
  Mid: text
  LAST NAME: text
  Suffix: text
  DATE OF BIRTH: date
  SEX: text
  HOUSE NO: text
  STREET: text
  STREET2: text
  UNIT: text
  CITY: text
  STATE: text
  ZIP: text
  MAIL HOUSE NO: text
  MAIL STREET: text
  MAIL STREET2: text
  MAIL UNIT: text
  MAIL CITY: text
  MAIL STATE: text
  MAIL ZIP: text
  REGISTRATION DATE: date
  PartyAffiliation: text
  Status: text
  Congressional District: text
  Senatorial District: text
  Delegate District: text
  Magisterial District: text
  Precinct_Number: text
  POLL_NAME: text

ordered_columns:
  - ID_VOTER
  - County_Name
  - FIRST NAME
  - Mid
  - LAST NAME
  - Suffix
  - DATE OF BIRTH
  - SEX
  - HOUSE NO
  - STREET
  - STREET2
  - UNIT
  - CITY
  - STATE
  - ZIP
  - MAIL HOUSE NO
  - MAIL STREET
  - MAIL STREET2
  - MAIL UNIT
  - MAIL CITY
  - MAIL STATE
  - MAIL ZIP
  - REGISTRATION DATE
  - PartyAffiliation
  - Status
  - Congressional District
  - Senatorial District
  - Delegate District
  - Magisterial District
  - Precinct_Number
  - POLL_NAME

# Modifications table
##############################
primary_key:
  - pre_date
  - post_date
  - ID_VOTER
  - change_type

base_columns:
  pre_date: timestamp
  post_date: timestamp
  ID_VOTER: text
  change_type: text
  pre_value: text
  post_value: text
  state: text

# Summary table
##############################
summary_columns:
  - date
  - state
  - locale
  - totals
  - male
  - female
  - ages_18_34
  - ages_35_49
  - ages_50_64
  - ages_65_130
  - unaffiliated
  - democratic
  - republican
  - libertarian

summary_types:
  - timestamp
  - text
  - text
  - int
  - int
  - int
  - int
  - int
  - int
  - int
  - int
  - int
  - int
  - int

# Voter history
##############################

# id_voter|id_election|dt_election|Election_Name|cd_election_type|cd_election_cat|fl_absentee|fl_challenged|fl_early_voting|fl_regular
hist_columns:
  - id_voter
  - id_election
  - dt_election
  - Election_Name
  - cd_election_type
  - cd_election_cat
  - fl_absentee
  - fl_challenged
  - fl_early_voting
  - fl_regular

hist_columns_types:
  id_voter: text
  id_election: text
  dt_election: date
  Election_Name: text
  cd_election_type: text
  cd_election_cat: text
  fl_absentee: text
  fl_challenged: text
  fl_early_voting: text
  fl_regular: text

# Voter history and other fields
##############################
generated_columns:
  all_history: text[]
  sparse_history: int[]
  # absentee, early-voting, regular
  votetype_history: text[]
  # Challenged (boolean)
  challenged_history: integer[]
ordered_generated_columns:
  - all_history
  - sparse_history
  - votetype_history
  - challenged_history

# Custom configuration
# (legacy, unsure if needed yet)
##############################
status_codes:
  active:
    - Active
  inactive:
    - Inactive

gender_codes:
  male:
    - M
    - m
  female:
    - F
    - f
  unknown:
    - N
    - nan
    - ""
    - " "

# Party codes are very variable, so done in code

locales_counties:
  barbour: Barbour
  berkeley: Berkeley
